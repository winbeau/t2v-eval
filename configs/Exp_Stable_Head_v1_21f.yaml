# =============================================================================
# T2V-Eval Configuration - Exp_Stable_Head_v1_21f
# =============================================================================

dataset:
  repo_id: "kv-compression/AdaHead"
  split: "train"
  use_local_videos: true
  local_video_dir: "hf/AdaHead/Exp_Stable_Head_v1_21f"
  prompt_file: "hf/AdaHead/Exp_Stable_Head_v1_21f/prompts.csv"
  default_group: "Exp_Stable_Head_v1_21f"
  video_dir: "videos/Exp_Stable_Head_v1_21f"

groups:
  - name: "Exp_Stable_Head_v1_21f"
    description: "Stable head setting, 21-frame variant"
    latent_frames: 21

protocol:
  fps_eval: 8
  num_frames: 32
  resize: 256
  frame_sampling: "uniform"
  frame_padding: "loop"

metrics:
  enabled:
    - "clip_or_vqa"
    - "vbench_temporal"
    - "flicker"
    - "niqe"

  clip_or_vqa:
    mode: "clip"
    model_name: "ViT-B-32"
    pretrained: "openai"
    num_frames_for_score: 32
    aggregation: "mean"

  vbench:
    enabled: true
    temporal_only: true
    subtasks:
      - "temporal_flickering"
      - "motion_smoothness"

  flicker:
    method: "l1"
    normalize: true
    compute_std: true
    grayscale: false

  niqe:
    enabled: true
    num_frames_for_niqe: 32
    block_size: 96
    alternative: "niqe"

runtime:
  device: "cuda"
  batch_size: 1
  num_workers: 4
  seed: 42

paths:
  cache_dir: "./eval_cache"
  output_dir: "./outputs/Exp_Stable_Head_v1_21f"
  metadata_file: "metadata.csv"
  processed_metadata: "processed_metadata.csv"
  per_video_metrics: "per_video_metrics.csv"
  group_summary: "group_summary.csv"
  runtime_csv: "runtime.csv"
  figures_dir: "./outputs/Exp_Stable_Head_v1_21f/figs"
  experiment_output: "Exp_Stable_Head_v1_21f.csv"

logging:
  level: "INFO"
  log_file: "./outputs/Exp_Stable_Head_v1_21f/eval.log"
  console: true
